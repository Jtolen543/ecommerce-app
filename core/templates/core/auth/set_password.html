{% include 'core/base/header.html' %}{% load widget_tweaks %}
<body class="d-flex flex-column justify-content-between vh-100 bg-light">

<div class="bg-light py-3 py-md-5">
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col-12 col-md-11 col-lg-8 col-xl-7 col-xxl-6">
        <div class="bg-white p-4 p-md-5 rounded shadow-sm">
          <div class="row">
            <div class="col-12">
              <div class="mb-5">
                <h2 class="h3">Password Reset</h2>
                <h3 class="fs-6 fw-normal text-secondary m-0">Provide the email address associated with your account to recover your password.</h3>
              </div>
            </div>
          </div>
          <form method="post" action="{% url 'set_password' uidb64 token %}">
            {%  csrf_token  %}

            <div class="form-label fw-bold">{{ form.password.label }}</div>
            {% render_field form.password class+='form-control' %}

            <div class="form-label fw-bold">{{ form.confirm.label }}</div>
            {% render_field form.confirm class+='form-control' %}

            {% for error in form.confirm.errors %}
              <div class="text-danger fw-bold">{{ error }}</div>
            {% endfor %}
            {% for message in messages %}
              {% if 'error' in message.tags %}
                <div class="text-danger fs-6 fw-bold"> {{ message }} </div>
              {% endif %}
            {% endfor %}

            <div class="text-center"><button type="submit" class="form-control btn btn-primary my-2 w-50">Reset Password</button></div>
          </form>
          <div class="row">
            <div class="col-12">
              <hr class="mt-5 mb-4 border-secondary-subtle">
              <div class="d-flex gap-4 justify-content-end">
                <a href="{% url 'login' %}" class="link-secondary text-decoration-none">Login</a>
                <a href="{% url 'register' %}" class="link-secondary text-decoration-none">Register</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% include 'core/base/footer.html' %}